<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <title>operator</title>
</head>
<body>
    <script>
        //5.1.1 표현식과 연산자
        //표현식 어떤 값으로 평가되는 것. 연산자를 사용하면 표현식을 조합하여 더욱 복잡한 표현식을 만들어 낼 수 있다.
        //+ 부분이 연산자 a와 b는 표현식 (피연산자)
        a + b;

        //5.1.2 연산자의 우선순위
        //그룹연산자를 사용하면 ()안에 들어 있는 표현식이가장 먼저 평가됨.
        //연산자에는 우선순위가 있고 우선순위에 따라 연산순서가 정해짐
        2 + 3 * 4;
        2 + (3 * 4); // 14
        (2 + 3) * 4; // 20

        //5.1.3 연산자 결합 법칙
        //연산은 연산자 우선순위에 따라 진행, 우선순위가같은 연산자가 나열되어 있으면 연산 순서를 연산자 우선순위 만으로 결정할 수 없음.
        //왼쪽과 오른쪽의 어떤 연산자와 결합해서 연산하는지에 따라 결과가 달라짐.
        24 / 6 * 2;
        //연산자에는 왼쪽과 결합해서 연산할지 아니면 오른쪽과 결합해서 연살한지를 결정하는 결합 법칙이 정해져 있음.
        (24 / 6) * 2; // 8
        24 / (6 * 2); // 2

        //5.1.4 연산자의 부수 효과
        //x = y 처럼 변수 값을 바꾸는 표현식 부수 효과가 있는 표현식
        //대입 연산자, 증가 연산자, 감소 연산자, delete 부수 효과가 있는 연산자

        //5.2.1 산술 연산자
        //산술 연산자는 피연산자가 숫자인 연산자. 피연산자가 숫자가 아닐 때는 연산자가 피연산자 타입을 숫자로 바꾸어 연산
        //1. 산술 이항 연산자
        //1-1. 정수 끼리 나누어도 결과가 부동소수점이 된다.
        7 / 2; // 3.5

        //1-2. 나머지 연산자 %의 피연산자는 부동소수점이다
        //자바스크립트는 부동소수점 끼리의 나머지 연산도 가능
        15 % 4; // 3
        5 % 1.5 // 0.5

        //1-3. +연산자는 피연산자 중 하나가 문자열이면 나머지 피연산자를 문자열로 만든다
        1 + "2month"; // "12month" : 숫자 1을 문자열 "1"로 형변환하여 "2month"와 연결

        //1-4. 기타
        //계산할 수 없는 경우 NaN으로 평가. 산술 연산자의 피연산자가 true면 1, false와 null 이면 0으로 평가.
        //undefined면 NaN 으로 평가
        0/0; // NaN : 계산할 수 없음
        "one" * 1; // NaN : 계산할 수 없음
        true + true // 2 : 논리값의 타입을 숫자로 바꾸여 더함
        1 + null // 1 : null을 0으로 바꾸어 더함
        1 + undefined // NaN : undefined를 NaN으로 바꾸어 더함

        //2. 산술 단항 연산자
        a = 1;
        b = ++a; // b 는 2가 되고 a는 2가 된다.
        c = a++ + 2; // c는 4가되고 a는 3이된다.

        //증가함수를 연속으로 사용하면 에러발생
        //(a++)++;

        //3. 산술 대입 연산자
        var sum = 0;
        var data = 1;
        sum += data;
        sum = sum + data;//위코드와 해당 코드는 같은 의미
        
        //5.2.2 Math 객체의 프로퍼티
        function polarToDescartes(r, theta){
            var angle = Math.PI * theta / 180;
            return {x: r*Math.cos(angle), y: r*Math.sin(angle)}
        }

        //5.2.3 부동소수점과 정확도 문제
        //값이 가까운 두 수를 뺄때 정확도 문제가 발생 이것을 정밀도 손실이라 한다.
        Math.sqrt(100001);
        Math.sqrt(100000);

        Math.sqrt(100001) - Math.sqrt(100000);

        //2진수로 계산을 하기 때문에 10진수로 딱 떨어지는 값ㄷ오 조금씩 어긋남
        1 / (Math.sqrt(100001) + Math.sqrt(100000))

        var a = 0.16;
        var b = 0.2;
        a / b; // 0.799999999 값이 나옴
        a / b == 0.8 // false
        // 이렇게 계산하면 해당 문제를 피할수 있음
        Math.abs(a / b - 0.8) < 1e-10;

        //5.3.1 문자열 연결
        //+ 연산자는 피연산자 모두 문자열이면 문자열로 연결
        "Hello " + "World";
        "1" + "2";

        //피연산자 중 하나가 문자열 또는 문자열로 변환할 수 있는 객체라면 피연산자의 타입을 문자열로 바꾼 다음 연결
        10 + " little indians";
        1 + {};
        true + (new Date());

        var a = 3;
        console.log("a 값은 " + a + "입니다.");
        
        //5.3.2 문자열을 조작하는 메서드
        //원시 값을 객체로 변환하는 행위를 가리켜 원시 값을 객체로 래핑한다고 한다.
        var msgObj = new String("Everything is practice.");
        msgObj.length; // 23
        msgObj.charAt(3); // r

        var msg = "Everything is practice.";
        console.log(msg.length); // 23
        console.log(msg.charAt(3)); // r

        //이코드는 하단부와 같이 실행됨
        var c = msg.charAt(3);

        //msgObj는 실행하는 순간에 일시적으로 생성되는 String객체 사용자에게는 보이지 않음.
        //처리가 끝나면 곧바로 메모리에서 삭제됨. 이러한 객체는 래퍼 객체라 한다.
        //자바스크립트에서는 원시 값을 처리할 때 원시 값을 래퍼 객체로 자동 변환.
        //문자열은 String 객체, 숫자는 Number 객체, 논리값은 Boolean 객체로 변환.
        //단 null과 undefined에는 래퍼객체가 없음
        var msgObj = new String(msg);
        var c = msgObj.charAt(3);
        
        var msg = "Everything is practice.";
        console.log(msg);

        var msg = new String("Everything is practice.");
        console.log(msg); // String [[PrimitiveValue]]: "Everything is practice."

        var msg = new String("Everything is practice.").valueOf();
        console.log(msg); // "Everything is practice."

        //자바스크립트의 문자열은 불변 replace 와 toUpperCase 메소드 등은 새로운 문자열을 반환
        //메서드를 호출한 문자열은 수정하지 않음
        msg.endsWith(".");//문자열이 . 으로 끝나는지를 뜻함
        msg.charCodeAt(0);// 69 문자 E의 문자코드
        msg.codePointAt(0);// 69 문자 E의 코드 포인트

        //5.3.3 String 생성자의 메서드
        console.log(123);
    </script>
</body>
</html>